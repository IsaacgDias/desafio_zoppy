<div class="max-w-6xl mx-auto p-6 bg-gray-50 rounded-2xl shadow-md">
  <h2 class="text-2xl font-bold text-gray-800 mb-6">
    Vincular produto ao cliente: 
    <span class="text-indigo-600">{{ cliente?.nome }}</span>
  </h2>

  <!-- Filtro e Paginação -->
  <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-3">
    <!-- Campo de filtro -->
    <input
      #filtroInput
      type="text"
      placeholder="Filtrar produtos..."
      (input)="filtrarProdutos(filtroInput.value)"
      class="w-full sm:w-1/3 px-4 py-2 border rounded-lg"
    />

    <!-- Paginação -->
    <div class="flex gap-2 justify-center sm:justify-end">
      <button
        (click)="paginaAnterior()"
        [disabled]="page === 1"
        class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition"
      >
        Anterior
      </button>
      <span class="px-2 py-2">Página {{page}} de {{totalPaginas()}}</span>
      <button
        (click)="proximaPagina()"
        [disabled]="page === totalPaginas()"
        class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition"
      >
        Próxima
      </button>
    </div>
  </div>

  <!-- Tabela de produtos -->
  <div class="overflow-x-auto bg-white rounded-xl shadow-sm">
    <table class="min-w-full border border-gray-200">
      <thead class="bg-gray-500 text-white">
        <tr>
          <th class="px-4 py-2 text-left">ID</th>
          <th class="px-4 py-2 text-left">Nome</th>
          <th class="px-4 py-2 text-left">Descrição</th>
          <th class="px-4 py-2 text-left">Preço</th>
          <th class="px-4 py-2 text-left">Estoque</th>
          <th class="px-4 py-2 text-center">Ações</th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let produto of produtos$ | async"
          class="border-b hover:bg-gray-100 transition"
        >
          <td class="px-4 py-2">{{ produto.id }}</td>
          <td class="px-4 py-2 font-medium text-gray-800">{{ produto.nome }}</td>
          <td class="px-4 py-2 text-gray-600">{{ produto.descricao }}</td>
          <td class="px-4 py-2 text-gray-700">R$ {{ produto.preco }}</td>
          <td class="px-4 py-2">{{ produto.estoque }}</td>
          <td class="px-4 py-2 text-center">
            <button
              (click)="vincularProduto(produto.id!)"
              class="bg-green-500 text-white px-3 py-1 rounded-lg hover:bg-green-600 transition"
            >
              Selecionar
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Botão cancelar -->
  <div class="mt-6 text-right">
    <button
      (click)="cancelar()"
      class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition"
    >
      Cancelar
    </button>
  </div>
</div>
